//Механизмы общения форм.
//Механизмы общения форм решают следующие задачи:
//1. Передача информации в открываемую форму
//2. Передача информации из открытой формы обратно
//3. Передача информации между произвольными формами

//Передача информации в открываемую форму
//Основным вариантом передачи информации в открываемую форму это параметры формы

&НаКлиенте
Процедура ОткрытиеФормы(Команда)

	ПараметрыФормы = Новый Структура;
	ПараметрыФормы.Вставить("ПроизвольныйПараметр", ПроизвольныйПараметр);
	ПараметрыФормы.Вставить("СтандартныйПараметр", СтандартныйПараметр);
	ОткрытьФорму("ИмяФормы", Параметры, ЭтаФорма);

КонецПроцедуры

//В открываемой форме

&НаСервере
Процедура ПриСозданииНаСервере(Отказ,СтандартнаяОбработка)
	
	Если Параметры.Свойство("ПроизвольныйПараметр") Тогда
		ХХХХХ = Параметры.ПроизвольныйПараметр;
	КонецЕсли;
	
	//Обрабатывать стандартные параметры не требуется,
	//т.к. платформа обрабатывает их сама

КонецПроцедуры

//Кроме того если форма открывается автоматически системой (как это происходит для ссылочных типов)
//Ей можно передавать параметры указав их в свойстве реквизита объекта "Связи параметров выбора".
//Так же в свойстве реквизита объекта "Параметры выбора" можно указать как стандартные параметры (Отбор),
//так и произвольные (однако в этом случае их необходимо будет обработать программно)


//Передача информации в исходную форму

//модуль формы владельца
&НаКлиенте
Процедура ОткрытиеФормы(Команда)
	ОткрытьФорму("ИмяФормы",,ЭтаФорма);
	//Чтобы указать открываемой форме владельца необходимо обязательно
	//указать 3-й параметр ЭтаФорма
КонецПроцедуры

//Модуль подчиненной формы
&НаКлиенте
Процедура ВыполнитьДействие(Команда)
	ЗакрыватьПриВыборе = Ложь;
	ОповеститьОВыборе(ХХХХХ);
КонецПроцедуры

//модуль формы владельца
//В модуле формы владельца необходимо создать обработчик ОбработкаВыбора
&НаКлиенте
Процедура ОбработкаВыбора(ВыбранноеЗначение, ИсточникВыбора)
	Если ТипЗнч(ВыбранноеЗначение) = Тип(ХХХХ) Тогда
	//...какая-то обработка
	КонецЕсли;
	//Параметр ИсточникВыбора будет содержать указатель на форму из которой произошел выбор
	//Владельцем подчиненной формы может так же выступать не только форма, но и конкретное поле
	//В этом случае выбранное значение будет автоматически помещено в поле. 
КонецПроцедуры


